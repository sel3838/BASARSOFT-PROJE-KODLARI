import Layer from"./Layer.js";import WebGLPointsLayerRenderer from"../renderer/webgl/PointsLayer.js";import{parseLiteralStyle}from"../webgl/styleparser.js";class WebGLPointsLayer extends Layer{constructor(e){super(Object.assign({},e)),this.parseResult_=parseLiteralStyle(e.style),this.styleVariables_=e.style.variables||{},this.hitDetectionDisabled_=!!e.disableHitDetection}createRenderer(){var e=Object.keys(this.parseResult_.attributes).map(e=>({name:e,...this.parseResult_.attributes[e]}));return new WebGLPointsLayerRenderer(this,{vertexShader:this.parseResult_.builder.getSymbolVertexShader(),fragmentShader:this.parseResult_.builder.getSymbolFragmentShader(),hitDetectionEnabled:!this.hitDetectionDisabled_,uniforms:this.parseResult_.uniforms,attributes:e})}updateStyleVariables(e){Object.assign(this.styleVariables_,e),this.changed()}}export default WebGLPointsLayer;