import Builder from"./Builder.js";import ImageBuilder from"./ImageBuilder.js";import LineStringBuilder from"./LineStringBuilder.js";import PolygonBuilder from"./PolygonBuilder.js";import TextBuilder from"./TextBuilder.js";const BATCH_CONSTRUCTORS={Circle:PolygonBuilder,Default:Builder,Image:ImageBuilder,LineString:LineStringBuilder,Polygon:PolygonBuilder,Text:TextBuilder};class BuilderGroup{constructor(i,e,r,t){this.tolerance_=i,this.maxExtent_=e,this.pixelRatio_=t,this.resolution_=r,this.buildersByZIndex_={}}finish(){const i={};for(const r in this.buildersByZIndex_){i[r]=i[r]||{};const t=this.buildersByZIndex_[r];for(const o in t){var e=t[o].finish();i[r][o]=e}}return i}getBuilder(i,e){i=void 0!==i?i.toString():"0";let r=this.buildersByZIndex_[i],t=(void 0===r&&(r={},this.buildersByZIndex_[i]=r),r[e]);if(void 0===t){const o=BATCH_CONSTRUCTORS[e];t=new o(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[e]=t}return t}}export default BuilderGroup;