import XYZ from"./XYZ.js";import{ATTRIBUTION as OSM_ATTRIBUTION}from"./OSM.js";const STADIA_ATTRIBUTION='&copy; <a href="https://www.stadiamaps.com/" target="_blank">Stadia Maps</a>',OMT_ATTRIBUTION='&copy; <a href="https://openmaptiles.org/" target="_blank">OpenMapTiles</a>',STAMEN_ATTRIBUTION='&copy; <a href="https://stamen.com/" target="_blank">Stamen Design</a>',LayerConfig={stamen_terrain:{extension:"png",opaque:!0},stamen_terrain_background:{extension:"png",opaque:!0},stamen_terrain_labels:{extension:"png",opaque:!1},stamen_terrain_lines:{extension:"png",opaque:!1},stamen_toner_background:{extension:"png",opaque:!0},stamen_toner:{extension:"png",opaque:!0},stamen_toner_labels:{extension:"png",opaque:!1},stamen_toner_lines:{extension:"png",opaque:!1},stamen_toner_lite:{extension:"png",opaque:!0},stamen_watercolor:{extension:"jpg",opaque:!0},alidade_smooth:{extension:"png",opaque:!0},alidade_smooth_dark:{extension:"png",opaque:!0},alidade_satellite:{extension:"png",opaque:!0},outdoors:{extension:"png",opaque:!0},osm_bright:{extension:"png",opaque:!0}},ProviderConfig={stamen_terrain:{minZoom:0,maxZoom:18,retina:!0},stamen_toner:{minZoom:0,maxZoom:20,retina:!0},stamen_watercolor:{minZoom:1,maxZoom:18,retina:!1}};class StadiaMaps extends XYZ{constructor(e){var o=e.layer.indexOf("-"),o=-1==o?e.layer:e.layer.slice(0,o),o=ProviderConfig[o]||{minZoom:0,maxZoom:20,retina:!0},a=LayerConfig[e.layer],n=e.apiKey?"?api_key="+e.apiKey:"",t=o.retina&&e.retina?"@2x":"",n=void 0!==e.url?e.url:"https://tiles.stadiamaps.com/tiles/"+e.layer+"/{z}/{x}/{y}"+t+"."+a.extension+n;const i=[STADIA_ATTRIBUTION,OMT_ATTRIBUTION,OSM_ATTRIBUTION];e.layer.startsWith("stamen_")&&i.splice(1,0,STAMEN_ATTRIBUTION),super({attributions:i,cacheSize:e.cacheSize,crossOrigin:"anonymous",interpolate:e.interpolate,maxZoom:(void 0!==e.maxZoom?e:o).maxZoom,minZoom:(void 0!==e.minZoom?e:o).minZoom,opaque:a.opaque,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:n,tilePixelRatio:t?2:1,wrapX:e.wrapX,zDirection:e.zDirection})}}export default StadiaMaps;