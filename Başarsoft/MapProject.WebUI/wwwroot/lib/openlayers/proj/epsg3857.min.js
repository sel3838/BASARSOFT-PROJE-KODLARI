import Projection from"./Projection.js";const RADIUS=6378137,HALF_SIZE=Math.PI*RADIUS,EXTENT=[-HALF_SIZE,-HALF_SIZE,HALF_SIZE,HALF_SIZE],WORLD_EXTENT=[-180,-85,180,85],MAX_SAFE_Y=RADIUS*Math.log(Math.tan(Math.PI/2));class EPSG3857Projection extends Projection{constructor(t){super({code:t,units:"m",extent:EXTENT,global:!0,worldExtent:WORLD_EXTENT,getPointResolution:function(t,o){return t/Math.cosh(o[1]/RADIUS)}})}}const PROJECTIONS=[new EPSG3857Projection("EPSG:3857"),new EPSG3857Projection("EPSG:102100"),new EPSG3857Projection("EPSG:102113"),new EPSG3857Projection("EPSG:900913"),new EPSG3857Projection("http://www.opengis.net/def/crs/EPSG/0/3857"),new EPSG3857Projection("http://www.opengis.net/gml/srs/epsg.xml#3857")];function fromEPSG4326(e,n,t){var E=e.length;t=1<t?t:2,void 0===n&&(n=2<t?e.slice():new Array(E));for(let o=0;o<E;o+=t){n[o]=HALF_SIZE*e[o]/180;let t=RADIUS*Math.log(Math.tan(Math.PI*(+e[o+1]+90)/360));t>MAX_SAFE_Y?t=MAX_SAFE_Y:t<-MAX_SAFE_Y&&(t=-MAX_SAFE_Y),n[o+1]=t}return n}function toEPSG4326(o,e,n){var E=o.length;n=1<n?n:2,void 0===e&&(e=2<n?o.slice():new Array(E));for(let t=0;t<E;t+=n)e[t]=180*o[t]/HALF_SIZE,e[t+1]=360*Math.atan(Math.exp(o[t+1]/RADIUS))/Math.PI-90;return e}export{RADIUS,HALF_SIZE,EXTENT,WORLD_EXTENT,MAX_SAFE_Y,PROJECTIONS,fromEPSG4326,toEPSG4326};