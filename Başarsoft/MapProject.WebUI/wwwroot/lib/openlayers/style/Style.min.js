import CircleStyle from"./Circle.js";import Fill from"./Fill.js";import Stroke from"./Stroke.js";import{assert}from"../asserts.js";class Style{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=defaultGeometryFunction,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.hitDetectionRenderer_=void 0!==e.hitDetectionRenderer?e.hitDetectionRenderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&"object"==typeof e&&(e=e.clone()),new Style({geometry:e??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=defaultGeometryFunction,this.geometry_=t}setZIndex(e){this.zIndex_=e}}function toFunction(t){let r;if("function"==typeof t)r=t;else{let e;e=Array.isArray(t)?t:(assert("function"==typeof t.getZIndex,"Expected an `Style` or an array of `Style`"),[t]),r=function(){return e}}return r}let defaultStyles=null;function createDefaultStyle(e,t){var r,i;return defaultStyles||(r=new Fill({color:"rgba(255,255,255,0.4)"}),i=new Stroke({color:"#3399CC",width:1.25}),defaultStyles=[new Style({image:new CircleStyle({fill:r,stroke:i,radius:5}),fill:r,stroke:i})]),defaultStyles}function createEditingStyle(){const e={};var t=[255,255,255,1],r=[0,153,255,1];return e.Polygon=[new Style({fill:new Fill({color:[255,255,255,.5]})})],e.MultiPolygon=e.Polygon,e.LineString=[new Style({stroke:new Stroke({color:t,width:5})}),new Style({stroke:new Stroke({color:r,width:3})})],e.MultiLineString=e.LineString,e.Circle=e.Polygon.concat(e.LineString),e.Point=[new Style({image:new CircleStyle({radius:6,fill:new Fill({color:r}),stroke:new Stroke({color:t,width:1.5})}),zIndex:1/0})],e.MultiPoint=e.Point,e.GeometryCollection=e.Polygon.concat(e.LineString,e.Point),e}function defaultGeometryFunction(e){return e.getGeometry()}export default Style;export{toFunction,createDefaultStyle,createEditingStyle};