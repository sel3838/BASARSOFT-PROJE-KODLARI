import{ARRAY_BUFFER,DYNAMIC_DRAW,ELEMENT_ARRAY_BUFFER,STATIC_DRAW,STREAM_DRAW}from"../webgl.js";import{assert}from"../asserts.js";const BufferUsage={STATIC_DRAW:STATIC_DRAW,STREAM_DRAW:STREAM_DRAW,DYNAMIC_DRAW:DYNAMIC_DRAW};class WebGLArrayBuffer{constructor(r,e){this.array_=null,this.type_=r,assert(r===ARRAY_BUFFER||r===ELEMENT_ARRAY_BUFFER,"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`"),this.usage_=void 0!==e?e:BufferUsage.STATIC_DRAW}ofSize(r){return this.array_=new(getArrayClassForType(this.type_))(r),this}fromArray(r){return this.array_=getArrayClassForType(this.type_).from(r),this}fromArrayBuffer(r){return this.array_=new(getArrayClassForType(this.type_))(r),this}getType(){return this.type_}getArray(){return this.array_}getUsage(){return this.usage_}getSize(){return this.array_?this.array_.length:0}}function getArrayClassForType(r){switch(r){case ARRAY_BUFFER:return Float32Array;case ELEMENT_ARRAY_BUFFER:return Uint32Array;default:return Float32Array}}export default WebGLArrayBuffer;export{BufferUsage,getArrayClassForType};