import{ascending}from"../../array.js";import{linearRingsContainsXY}from"./contains.js";function getInteriorPointOfArray(n,e,i,o,r,t,a){let s,f,g,l,u,h,c;var y=r[t+1];const p=[];for(let r=0,t=i.length;r<t;++r){var A=i[r];for(l=n[A-o],h=n[A-o+1],s=e;s<A;s+=o)u=n[s],c=n[s+1],(y<=h&&c<=y||h<=y&&y<=c)&&(g=(y-h)/(c-h)*(u-l)+l,p.push(g)),l=u,h=c}let I=NaN,O=-1/0;for(p.sort(ascending),l=p[0],s=1,f=p.length;s<f;++s){u=p[s];var P=Math.abs(u-l);P>O&&(g=(l+u)/2,linearRingsContainsXY(n,e,i,o,g,y)&&(I=g,O=P)),l=u}return isNaN(I)&&(I=r[t]),a?(a.push(I,y,O),a):[I,y,O]}function getInteriorPointsOfMultiArray(n,e,i,o,a){let s=[];for(let r=0,t=i.length;r<t;++r){var f=i[r];s=getInteriorPointOfArray(n,e,f,o,a,2*r,s),e=f[f.length-1]}return s}export{getInteriorPointOfArray,getInteriorPointsOfMultiArray};