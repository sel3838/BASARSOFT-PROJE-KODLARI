import BaseObject from"../Object.js";import MapEventType from"../MapEventType.js";import{VOID}from"../functions.js";import{listen,unlistenByKey}from"../events.js";import{removeNode}from"../dom.js";class Control extends BaseObject{constructor(e){super();const t=e.element;!t||e.target||t.style.pointerEvents||(t.style.pointerEvents="auto"),this.element=t||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){removeNode(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&removeNode(this.element);for(let e=0,t=this.listenerKeys.length;e<t;++e)unlistenByKey(this.listenerKeys[e]);if(this.listenerKeys.length=0,this.map_=e){const t=this.target_||e.getOverlayContainerStopEvent();t.appendChild(this.element),this.render!==VOID&&this.listenerKeys.push(listen(e,MapEventType.POSTRENDER,this.render,this)),e.render()}}render(e){}setTarget(e){this.target_="string"==typeof e?document.getElementById(e):e}}export default Control;